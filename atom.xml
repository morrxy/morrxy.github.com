<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>胡军的网络日志</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-03-27T11:21:17.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>胡军</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>OpenClose原则的几类使用场景</title>
    <link href="http://yoursite.com/2016/03/27/openclose-principle-use-case/"/>
    <id>http://yoursite.com/2016/03/27/openclose-principle-use-case/</id>
    <published>2016-03-26T17:33:28.000Z</published>
    <updated>2016-03-27T11:21:17.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;OpenClose&amp;#x539F;&amp;#x5219;&quot;&gt;&lt;a href=&quot;#OpenClose&amp;#x539F;&amp;#x5219;&quot; class=&quot;headerlink&quot; title=&quot;OpenClose&amp;#x539F;&amp;#x5219;&quot;&gt;&lt;/a&gt;OpenClose&amp;#x539F;&amp;#x5219;&lt;/h2&gt;&lt;p&gt;&amp;#x524D;&amp;#x4E00;&amp;#x9635;&amp;#x4ECE;&amp;#x9648;&amp;#x5929;&amp;#x8001;&amp;#x5E08;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x91CC;&amp;#x77E5;&amp;#x9053;&amp;#x4E86;&amp;#x5199;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x539F;&amp;#x5219;: &lt;code&gt;Open to extension, Close to modification&lt;/code&gt;. &amp;#x5373;&amp;#x4EE3;&amp;#x7801;&amp;#x5199;&amp;#x5B8C;&amp;#x4EE5;&amp;#x540E;,&amp;#x4FDD;&amp;#x6301;&amp;#x6269;&amp;#x5C55;&amp;#x80FD;&amp;#x529B;,&amp;#x4F46;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x518D;&amp;#x6539;&amp;#x52A8;&amp;#x4EE3;&amp;#x7801;.&lt;/p&gt;
&lt;p&gt;&amp;#x6211;&amp;#x76EE;&amp;#x524D;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x5C31;&amp;#x662F;:&amp;#x628A;&lt;code&gt;&amp;#x6761;&amp;#x4EF6;&amp;#x68C0;&amp;#x6D4B;&lt;/code&gt;&amp;#x548C;&lt;code&gt;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&lt;/code&gt;&amp;#x7EC4;&amp;#x7EC7;&amp;#x6210;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217;&amp;#x7684;&amp;#x6210;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;,&amp;#x6709;&amp;#x65B0;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#x65F6;&amp;#x5019;,&amp;#x53EA;&amp;#x8981;&amp;#x589E;&amp;#x52A0;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5C31;&amp;#x884C;&amp;#x4E86;(Open to extension),&amp;#x800C;&amp;#x9009;&amp;#x62E9;&amp;#x5E76;&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;&amp;#x904D;&amp;#x5386;&amp;#x51FD;&amp;#x6570;&amp;#x5B8C;&amp;#x6210;,&amp;#x4E0D;&amp;#x518D;&amp;#x9700;&amp;#x8981;&amp;#x4FEE;&amp;#x6539;(Close to modification).&amp;#x53E6;&amp;#x4E00;&amp;#x79CD;&amp;#x7406;&amp;#x89E3;&amp;#x89D2;&amp;#x5EA6;&amp;#x5C31;&amp;#x662F;&amp;#x4EFB;&amp;#x52A1;&amp;#x5206;&amp;#x89E3;,&amp;#x628A;&amp;#x5305;&amp;#x542B;&amp;#x591A;&amp;#x4E2A;&amp;#x903B;&amp;#x8F91;,&amp;#x5C06;&amp;#x6765;&amp;#x6709;&amp;#x53EF;&amp;#x80FD;&amp;#x589E;&amp;#x52A0;&amp;#x903B;&amp;#x8F91;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#x5206;&amp;#x89E3;&amp;#x6210;&amp;#x5355;&amp;#x903B;&amp;#x8F91;&amp;#x72EC;&amp;#x7ACB;&amp;#x4EFB;&amp;#x52A1;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;-&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;-&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x6700;&amp;#x5C0F;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&lt;/h2&gt;&lt;p&gt;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x573A;&amp;#x666F;,&amp;#x6839;&amp;#x636E;&amp;#x7F16;&amp;#x7801;&amp;#x8FD4;&amp;#x56DE;&amp;#x5BF9;&amp;#x5E94;&amp;#x6587;&amp;#x5B57;,type&amp;#x4E3A;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x8BF7;&amp;#x6C42;&amp;#x53C2;&amp;#x6570;&amp;#x6570;&amp;#x5B57;,&amp;#x73B0;&amp;#x5728;&amp;#x8981;&amp;#x53D6;&amp;#x5F97;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x6587;&amp;#x5B57;.&amp;#x76F4;&amp;#x63A5;&amp;#x7684;&amp;#x5199;&amp;#x6CD5;&amp;#x5C31;&amp;#x662F;if&amp;#x52A0;&amp;#x4FEE;&amp;#x6539;&amp;#x8FD4;&amp;#x56DE;&amp;#x7ED3;&amp;#x679C;.&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getTypeName&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;type&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; result = &lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (type === &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) result = &lt;span class=&quot;string&quot;&gt;&amp;apos;spck_list&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (type === &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) result = &lt;span class=&quot;string&quot;&gt;&amp;apos;detail&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (type === &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) result = &lt;span class=&quot;string&quot;&gt;&amp;apos;search&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (type === &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;) result = &lt;span class=&quot;string&quot;&gt;&amp;apos;activity&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x5DE5;&amp;#x4F5C;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F8B;&amp;#x5B50;,&amp;#x5176;&amp;#x5B9E;&amp;#x4EE5;&amp;#x524D;&amp;#x786E;&amp;#x5B9E;&amp;#x53EA;&amp;#x6709;3&amp;#x79CD;,&amp;#x73B0;&amp;#x5728;&amp;#x53D8;&amp;#x6210;&amp;#x4E86;4&amp;#x79CD;,&amp;#x6CA1;&amp;#x51C6;&amp;#x4EE5;&amp;#x540E;&amp;#x8FD8;&amp;#x4F1A;&amp;#x589E;&amp;#x52A0;,PM&amp;#x7684;idea,&amp;#x4F60;&amp;#x61C2;&amp;#x7684;.&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x91C7;&amp;#x7528;OpenClose&amp;#x539F;&amp;#x5219;&amp;#x7684;&amp;#x5199;&amp;#x6CD5;:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getTypeName&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;type&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; coll = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;apos;spck_list&amp;apos;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;apos;detail&amp;apos;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;apos;search&amp;apos;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;apos;activity&amp;apos;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; found = _.find(coll, item =&amp;gt; item[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] === type);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; found ? found[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] : &lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x867D;&amp;#x7136;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4F8B;&amp;#x5B50;&amp;#x770B;&amp;#x4E0D;&amp;#x51FA;&amp;#x660E;&amp;#x663E;&amp;#x4F18;&amp;#x52BF;,&amp;#x4F46;&amp;#x9009;&amp;#x62E9;&amp;#x903B;&amp;#x8F91;&amp;#x6709;&amp;#x65F6;&amp;#x5019;&amp;#x4F1A;&amp;#x5F88;&amp;#x591A;,&amp;#x6267;&amp;#x884C;&amp;#x903B;&amp;#x8F91;&amp;#x6709;&amp;#x65F6;&amp;#x5019;&amp;#x4F1A;&amp;#x5F88;&amp;#x957F;,&amp;#x5F88;&amp;#x4E71;,&amp;#x8FD9;&amp;#x65F6;&amp;#x5019;&amp;#x4F7F;&amp;#x7528;&amp;#x8FD9;&amp;#x4E2A;&amp;#x539F;&amp;#x5219;&amp;#x7684;&amp;#x597D;&amp;#x5904;&amp;#x5C31;&amp;#x4F1A;&amp;#x66F4;&amp;#x660E;&amp;#x663E;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5927;&amp;#x4E00;&amp;#x70B9;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;-&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot;&gt;&lt;a href=&quot;#&amp;#x5927;&amp;#x4E00;&amp;#x70B9;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;-&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5927;&amp;#x4E00;&amp;#x70B9;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot;&gt;&lt;/a&gt;&amp;#x5927;&amp;#x4E00;&amp;#x70B9;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x6B21;&amp;#x9700;&amp;#x8981;&amp;#x683C;&amp;#x5F0F;&amp;#x5316;&amp;#x4ECE;DB&amp;#x53D6;&amp;#x56DE;&amp;#x7684;&amp;#x6570;&amp;#x636E;,&amp;#x6B63;&amp;#x597D;&amp;#x8FD8;&amp;#x662F;&amp;#x4E0A;&amp;#x9762;&amp;#x4F8B;&amp;#x5B50;&amp;#x7684;&amp;#x8DEF;&amp;#x7531;&amp;#x91CC;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;,&amp;#x7531;&amp;#x4E8E;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E86;&amp;#x4E0D;&amp;#x540C;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6570;&amp;#x636E;,&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x6839;&amp;#x636E;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x5BF9;&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x683C;&amp;#x5F0F;&amp;#x5316;.&amp;#x8FD9;&amp;#x6B21;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x91C7;&amp;#x7528;&amp;#x8FD9;&amp;#x4E2A;&amp;#x539F;&amp;#x5219;&amp;#x7684;&amp;#x5199;&amp;#x6CD5;.&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;formatActWithDetail&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;act, matched&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//act.type  0:&amp;#x7CBE;&amp;#x54C1;&amp;#x5408;&amp;#x96C6; 1:&amp;#x5355;&amp;#x54C1;&amp;#x63A8;&amp;#x8350; 2:&amp;#x68C0;&amp;#x7D22;&amp;#x89C4;&amp;#x5219; 9:&amp;#x5B98;&amp;#x7F51;&amp;#x6D3B;&amp;#x52A8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//&amp;#x62FC;&amp;#x88C5;0,2,9&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; filterWithAction = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: type =&amp;gt; type === &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; { &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; format0(act) }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: type =&amp;gt; type === &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; { &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; format2(act, matched) }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: type =&amp;gt; type === &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; { &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; format9(act, matched) }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; run(filterWithAction, act.type);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;coll, args&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; option &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; coll) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (option.filter(args)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; option.action();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;format0&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;act&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//&amp;#x7CBE;&amp;#x54C1;&amp;#x5408;&amp;#x96C6;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; imgurl = getImgurl(act);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; result = {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    activityId: act.id,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name: act.name,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    imgSrc: imgurl,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: act.width&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  };&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (act.width === &lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;) result.pic = imgurl;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;format2&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;act, matched&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//&amp;#x68C0;&amp;#x7D22;&amp;#x89C4;&amp;#x5219;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; imgurl = getImgurl(act);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name: act.name,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    keyword: matched.keyword,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    imgSrc: imgurl,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: act.width&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  };&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;format9&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;act, matched&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//&amp;#x5B98;&amp;#x7F51;&amp;#x6D3B;&amp;#x52A8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; imgurl = getImgurl(act);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    activityId: &lt;span class=&quot;built_in&quot;&gt;parseInt&lt;/span&gt;(matched.keyword),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name: act.name,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    imgSrc: imgurl,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: act.width&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  };&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;,&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x6709;&amp;#x76F8;&amp;#x4F3C;,&amp;#x4E5F;&amp;#x6709;&amp;#x5DEE;&amp;#x5F02;,&amp;#x6709;&amp;#x7684;&amp;#x8FD8;&amp;#x6709;&amp;#x81EA;&amp;#x5DF1;&amp;#x5355;&amp;#x72EC;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x5982;&amp;#x679C;&amp;#x5199;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;,&amp;#x5373;&amp;#x96BE;&amp;#x770B;,&amp;#x53C8;&amp;#x75DB;&amp;#x82E6;,&amp;#x53C8;&amp;#x4E0D;&amp;#x597D;&amp;#x6269;&amp;#x5C55;,&amp;#x56E0;&amp;#x4E3A;&amp;#x6269;&amp;#x5C55;&amp;#x65F6;&amp;#x5019;&amp;#x53C8;&amp;#x662F;&amp;#x4E00;&amp;#x6B21;&amp;#x5373;&amp;#x96BE;&amp;#x770B;&amp;#x53C8;&amp;#x75DB;&amp;#x82E6;&amp;#x7684;&amp;#x7ECF;&amp;#x5386;.&amp;#x8FD9;&amp;#x65F6;&amp;#x5019;OpenClose&amp;#x5199;&amp;#x6CD5;&amp;#x7684;&amp;#x597D;&amp;#x5904;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6BD4;&amp;#x4E0A;&amp;#x4E2A;&amp;#x4F8B;&amp;#x5B50;&amp;#x660E;&amp;#x663E;&amp;#x4E86;&amp;#x5F88;&amp;#x591A;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x66F4;&amp;#x5927;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;-&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&quot;&gt;&lt;a href=&quot;#&amp;#x66F4;&amp;#x5927;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;-&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x66F4;&amp;#x5927;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&quot;&gt;&lt;/a&gt;&amp;#x66F4;&amp;#x5927;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&lt;/h2&gt;&lt;p&gt;&amp;#x6709;&amp;#x65F6;&amp;#x5019;&amp;#x4E00;&amp;#x4E2A;api&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x5305;&amp;#x542B;&amp;#x597D;&amp;#x51E0;&amp;#x79CD;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;,&amp;#x4F46;&amp;#x7531;&amp;#x4E8E;&amp;#x67D0;&amp;#x4E9B;&amp;#x539F;&amp;#x56E0;(&amp;#x53EF;&amp;#x80FD;&amp;#x662F;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;api&amp;#x66F4;&amp;#x5408;&amp;#x9002;),&amp;#x8FD9;&amp;#x4E2A;api&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x5728;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x62C6;&amp;#x5206;&amp;#x6210;&amp;#x591A;&amp;#x4E2A;api,&amp;#x800C;&amp;#x662F;&amp;#x5E26;&amp;#x7740;&amp;#x591A;&amp;#x4E2A;&amp;#x903B;&amp;#x8F91;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x53C2;&amp;#x6570;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;api&amp;#x8BF7;&amp;#x6C42;&amp;#x670D;&amp;#x52A1;&amp;#x7AEF;,&amp;#x8FD9;&amp;#x65F6;&amp;#x5019;&amp;#x5982;&amp;#x679C;&amp;#x5199;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;,&amp;#x76F4;&amp;#x63A5;&amp;#x7528;if&amp;#x8BED;&amp;#x53E5;&amp;#x5224;&amp;#x65AD;&amp;#x53C2;&amp;#x6570;&amp;#x5E76;&amp;#x6267;&amp;#x884C;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;,&amp;#x5F00;&amp;#x53D1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5C31;&amp;#x5F00;&amp;#x59CB;&amp;#x5FCD;&amp;#x65E0;&amp;#x53EF;&amp;#x5FCD;&amp;#x4E86;,&amp;#x56E0;&amp;#x4E3A;&amp;#x592A;&amp;#x591A;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&amp;#x9700;&amp;#x8981;&amp;#x540C;&amp;#x65F6;&amp;#x8003;&amp;#x8651;.&amp;#x8FD9;&amp;#x65F6;&amp;#x5019;OpenClose&amp;#x539F;&amp;#x5219;&amp;#x53EF;&amp;#x4EE5;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x53D1;&amp;#x6325;&amp;#x5A01;&amp;#x529B;.&amp;#x5373;&amp;#x76F4;&amp;#x63A5;&amp;#x628A;&amp;#x8FD9;&amp;#x4E2A;api&amp;#x6839;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&amp;#x53C2;&amp;#x6570;,&amp;#x62C6;&amp;#x5206;&amp;#x6210;&amp;#x591A;&amp;#x4E2A;&amp;#x5185;&amp;#x90E8;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;.&amp;#x65E2;&amp;#x964D;&amp;#x4F4E;&amp;#x4E86;&amp;#x5F00;&amp;#x53D1;&amp;#x75DB;&amp;#x82E6;&amp;#x5EA6;,&amp;#x4E5F;&amp;#x4FDD;&amp;#x6301;&amp;#x4E86;&amp;#x6269;&amp;#x5C55;&amp;#x6027;.&lt;/p&gt;
&lt;p&gt;&amp;#x770B;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0A;&amp;#x8FF0;&amp;#x63CF;&amp;#x8FF0;&amp;#x7684;&amp;#x5177;&amp;#x4F53;&amp;#x4F8B;&amp;#x5B50;,&amp;#x591A;&amp;#x79CD;&amp;#x5206;&amp;#x4EAB;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;,&amp;#x5404;&amp;#x4E2A;&amp;#x5206;&amp;#x4EAB;&amp;#x7684;&amp;#x76F8;&amp;#x4F3C;&amp;#x548C;&amp;#x5DEE;&amp;#x5F02;&amp;#x6709;&amp;#x5927;&amp;#x6709;&amp;#x5C0F;,&amp;#x5F00;&amp;#x53D1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x5206;&amp;#x4EAB;&amp;#x7C7B;&amp;#x578B;&amp;#x4ECE;3&amp;#x79CD;&amp;#x589E;&amp;#x52A0;&amp;#x5230;&amp;#x4E86;5&amp;#x79CD;,&amp;#x76F4;&amp;#x63A5;&amp;#x770B;OpenClose&amp;#x7684;&amp;#x5199;&amp;#x6CD5;&amp;#x5427;.&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;req, res&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//type: 1&amp;#x6D3B;&amp;#x52A8; 2&amp;#x4E13;&amp;#x8F91; 3&amp;#x5355;&amp;#x54C1; 4&amp;#x6211;&amp;#x7684;&amp;#x7CBE;&amp;#x9009;&amp;#x96C6; 5&amp;#x540E;&amp;#x53F0;&amp;#x5EFA;&amp;#x7684;&amp;#x6D3B;&amp;#x52A8;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//channelId 0 &amp;#x5FAE;&amp;#x4FE1;&amp;#x597D;&amp;#x53CB; 1&amp;#x5FAE;&amp;#x4FE1;&amp;#x670B;&amp;#x53CB;&amp;#x5708; 2 &amp;#x5FAE;&amp;#x535A; 3 QQ&amp;#x597D;&amp;#x53CB; 4 QQ&amp;#x7A7A;&amp;#x95F4; 5 &amp;#x77ED;&amp;#x4FE1; 6 &amp;#x4E8C;&amp;#x7EF4;&amp;#x7801; 7&amp;#x590D;&amp;#x5236;&amp;#x94FE;&amp;#x63A5; 8&amp;#x5FAE;&amp;#x4FE1;&amp;#x5FEB;&amp;#x7167; 9&amp;#x670B;&amp;#x53CB;&amp;#x5708;&amp;#x5FEB;&amp;#x7167;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;//&amp;#x5982;&amp;#x679C;&amp;#x662F;&amp;#x5355;&amp;#x54C1;&amp;#x6216;&amp;#x8005;&amp;#x6D3B;&amp;#x52A8;&amp;#x9700;&amp;#x8981;&amp;#x4F20;&amp;#x5165;&amp;#x5355;&amp;#x54C1;&amp;#x7684;url&amp;#x94FE;&amp;#x63A5;&amp;#x5730;&amp;#x5740;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; args = {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    userId: req.get(&lt;span class=&quot;string&quot;&gt;&amp;apos;uid&amp;apos;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    productId: req.body.pid,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    url: req.body.url,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    type: req.body.type,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    channelId: req.body.channel_id&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  };&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; filterWithAction = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: args =&amp;gt; args.type === &lt;span class=&quot;string&quot;&gt;&amp;apos;1&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;apos;./share-action/action-active&amp;apos;&lt;/span&gt;)(args, res, req)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: args =&amp;gt; args.type === &lt;span class=&quot;string&quot;&gt;&amp;apos;2&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;apos;./share-action/action-album&amp;apos;&lt;/span&gt;)(args, res, req)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: args =&amp;gt; args.type === &lt;span class=&quot;string&quot;&gt;&amp;apos;3&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;apos;./share-action/action-product&amp;apos;&lt;/span&gt;)(args, res, req)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: args =&amp;gt; args.type === &lt;span class=&quot;string&quot;&gt;&amp;apos;4&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;apos;./share-action/action-best&amp;apos;&lt;/span&gt;)(args, res, req)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      filter: args =&amp;gt; args.type === &lt;span class=&quot;string&quot;&gt;&amp;apos;5&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      action: () =&amp;gt; &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;apos;./share-action/action-spck-list&amp;apos;&lt;/span&gt;)(args, res, req)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  run(filterWithAction, args);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;};&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;coll, args&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; option &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; coll) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (option.filter(args)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; option.action();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;,5&amp;#x79CD;&amp;#x5206;&amp;#x4EAB;&amp;#x5185;&amp;#x5BB9;,&amp;#x6BCF;&amp;#x79CD;&amp;#x53C8;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x79CD;&amp;#x5206;&amp;#x4EAB;&amp;#x6E20;&amp;#x9053;,&amp;#x5176;&amp;#x4E2D;&amp;#x6709;&amp;#x7684;&amp;#x6E20;&amp;#x9053;&amp;#x9700;&amp;#x8981;&amp;#x8FD4;&amp;#x56DE;&amp;#x9644;&amp;#x52A0;&amp;#x7684;&amp;#x6570;&amp;#x636E;.&amp;#x6211;&amp;#x628A;&amp;#x6240;&amp;#x6709;&amp;#x53EF;&amp;#x80FD;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x62FC;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;args&lt;/code&gt;&amp;#x5BF9;&amp;#x8C61;.&amp;#x7136;&amp;#x540E;&amp;#x76F4;&amp;#x63A5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;type&lt;/code&gt;&amp;#x53C2;&amp;#x6570;,&amp;#x628A;&amp;#x8FD9;&amp;#x4E2A;api&amp;#x62C6;&amp;#x5206;&amp;#x6210;5&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x5355;&amp;#x4E00;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x5904;&amp;#x7406;&amp;#x6A21;&amp;#x5757;,&amp;#x6BCF;&amp;#x4E2A;&amp;#x6A21;&amp;#x5757;&amp;#x653E;&amp;#x5728;&amp;#x5355;&amp;#x72EC;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x91CC;,&amp;#x628A;&amp;#x6240;&amp;#x6709;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5168;&amp;#x90E8;&amp;#x4F20;&amp;#x8FC7;&amp;#x53BB;,&amp;#x8FD9;&amp;#x5C42;api&amp;#x5C31;&amp;#x4E0D;&amp;#x518D;&amp;#x5E72;&amp;#x5176;&amp;#x4ED6;&amp;#x4E8B;&amp;#x60C5;&amp;#x4E86;.&lt;/p&gt;
&lt;p&gt;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x5904;&amp;#x7406;&amp;#x6A21;&amp;#x5757;&lt;code&gt;action-active.js&lt;/code&gt;:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = (args, res, req) =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; productId = args.productId;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; channelId = args.channelId;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;.resolve()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .then(() =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; testArgs([productId, channelId]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .then(() =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; shareUrl = &lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;${global.appConfig.activityUrl}&lt;/span&gt;&lt;span class=&quot;subst&quot;&gt;${productId}&lt;/span&gt;`&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; recordShare(args.userId, shareUrl, args.type, channelId, productId);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .then(data =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; shareId = _.first(data).id;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; apiUrl = global.appConfig.apiUrl;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res.send({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      data: {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        content : &lt;span class=&quot;string&quot;&gt;&amp;quot;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5546;&amp;#x54C1;&amp;#x5728;&amp;#x53C2;&amp;#x52A0;&amp;#x6D3B;&amp;#x52A8;&amp;#xFF0C;&amp;#x6211;&amp;#x89C9;&amp;#x5F97;&amp;#x5F88;&amp;#x4E0D;&amp;#x9519;&amp;#xFF0C;&amp;#x5FEB;&amp;#x6765;&amp;#x770B;&amp;#x770B;&amp;#x5427;&amp;#xFF01;&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        url: &lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;${apiUrl}&lt;/span&gt;share/share?share_id=&lt;span class=&quot;subst&quot;&gt;${shareId}&lt;/span&gt;`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      },&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      status: {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        msg: &lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  .catch(err =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sendError(res, err);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    logError(err, req);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;};&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;,&amp;#x5C31;&amp;#x662F;&amp;#x8FDB;&amp;#x884C;&amp;#x6B64;&amp;#x79CD;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x5904;&amp;#x7406;,&amp;#x5E76;&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;.&amp;#x53EF;&amp;#x4EE5;&amp;#x60F3;&amp;#x8C61;&amp;#x4E00;&amp;#x4E0B;&amp;#x628A;&amp;#x6240;&amp;#x6709;5&amp;#x79CD;&amp;#x6DF7;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;,&amp;#x800C;&amp;#x4E14;&amp;#x5C06;&amp;#x6765;&amp;#x6CA1;&amp;#x51C6;&amp;#x4F1A;&amp;#x589E;&amp;#x52A0;&amp;#x5206;&amp;#x4EAB;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;,&amp;#x4EE3;&amp;#x7801;&amp;#x91CC;&amp;#x4F1A;&amp;#x5230;&amp;#x5904;&amp;#x5145;&amp;#x6EE1;&amp;#x4E86;if,&amp;#x800C;OpenClose&amp;#x4E00;&amp;#x65E6;&amp;#x642D;&amp;#x597D;,&amp;#x6BCF;&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5C31;&amp;#x90FD;&amp;#x4EAB;&amp;#x53D7;&amp;#x5230;&amp;#x5355;&amp;#x4E00;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x5E26;&amp;#x6765;&amp;#x7684;&amp;#x6E05;&amp;#x6670;&amp;#x660E;&amp;#x4E86;,&amp;#x540C;&amp;#x65F6;&amp;#x73B0;&amp;#x5B58;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7684;&amp;#x4FEE;&amp;#x6539;,&amp;#x65B0;&amp;#x589E;&amp;#x65B0;&amp;#x7684;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;,&amp;#x90FD;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5F71;&amp;#x54CD;&amp;#x5176;&amp;#x4ED6;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6B22;&amp;#x8FCE;&amp;#x4EA4;&amp;#x6D41;&amp;#x6307;&amp;#x6B63;&quot;&gt;&lt;a href=&quot;#&amp;#x6B22;&amp;#x8FCE;&amp;#x4EA4;&amp;#x6D41;&amp;#x6307;&amp;#x6B63;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6B22;&amp;#x8FCE;&amp;#x4EA4;&amp;#x6D41;&amp;#x6307;&amp;#x6B63;&quot;&gt;&lt;/a&gt;&amp;#x6B22;&amp;#x8FCE;&amp;#x4EA4;&amp;#x6D41;&amp;#x6307;&amp;#x6B63;&lt;/h2&gt;&lt;p&gt;&amp;#x6C34;&amp;#x5E73;&amp;#x6709;&amp;#x9650;,&amp;#x5982;&amp;#x679C;&amp;#x60A8;&amp;#x53D1;&amp;#x73B0;&amp;#x4E86;&amp;#x5176;&amp;#x4ED6;&amp;#x597D;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;,&amp;#x6216;&amp;#x8005;&amp;#x6211;&amp;#x7406;&amp;#x89E3;&amp;#x7684;&amp;#x4E0D;&amp;#x6B63;&amp;#x786E;,&amp;#x4E0D;&amp;#x5168;&amp;#x9762;&amp;#x7684;&amp;#x5730;&amp;#x65B9;,&amp;#x8BF7;&amp;#x52A1;&amp;#x5FC5;&amp;#x544A;&amp;#x8BC9;&amp;#x6211;,&amp;#x975E;&amp;#x5E38;&amp;#x611F;&amp;#x8C22;!&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;OpenClose&amp;#x539F;&amp;#x5219;&quot;&gt;&lt;a href=&quot;#OpenClose&amp;#x539F;&amp;#x5219;&quot; class=&quot;headerlink&quot; title=&quot;OpenClose&amp;#x539F;&amp;#x5219;&quot;&gt;&lt;/a&gt;OpenClose&amp;#
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>bluebird带给我的惊喜</title>
    <link href="http://yoursite.com/2016/03/13/bluebird-serendipity/"/>
    <id>http://yoursite.com/2016/03/13/bluebird-serendipity/</id>
    <published>2016-03-13T13:31:19.000Z</published>
    <updated>2016-03-13T13:31:19.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;p&gt;&amp;#x7528;&lt;a href=&quot;https://nodejs.org/en/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt;&amp;#x5F00;&amp;#x53D1;App&amp;#x670D;&amp;#x52A1;&amp;#x7AEF;Api.&amp;#x6846;&amp;#x67B6;:&lt;a href=&quot;http://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Express&lt;/a&gt;,Promise&amp;#x5E93;:&lt;a href=&quot;http://bluebirdjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;bluebird&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5C40;&amp;#x9650;&quot;&gt;&lt;a href=&quot;#&amp;#x5C40;&amp;#x9650;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5C40;&amp;#x9650;&quot;&gt;&lt;/a&gt;&amp;#x5C40;&amp;#x9650;&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x6CA1;&amp;#x7528;&amp;#x8FC7;ES7&amp;#x7684;await,async&amp;#x8BED;&amp;#x6CD5;,&amp;#x6240;&amp;#x4EE5;&amp;#x65E0;&amp;#x6CD5;&amp;#x6BD4;&amp;#x8F83;.&amp;#x53E6;&amp;#x5916;,bluebird&amp;#x4E5F;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x4E0D;&amp;#x8BE6;&amp;#x7EC6;,&amp;#x5982;&amp;#x6709;&amp;#x5199;&amp;#x7684;&amp;#x4E0D;&amp;#x5BF9;&amp;#x7684;&amp;#x5730;&amp;#x65B9;,&amp;#x5B9E;&amp;#x5C5E;&amp;#x6B63;&amp;#x5E38;,&amp;#x6B22;&amp;#x8FCE;&amp;#x8BA8;&amp;#x8BBA;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x60CA;&amp;#x559C;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&quot;&gt;&lt;a href=&quot;#&amp;#x60CA;&amp;#x559C;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x60CA;&amp;#x559C;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&quot;&gt;&lt;/a&gt;&amp;#x60CA;&amp;#x559C;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#x4ECE;callback&amp;#x5230;async&quot;&gt;&lt;a href=&quot;#&amp;#x4ECE;callback&amp;#x5230;async&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4ECE;callback&amp;#x5230;async&quot;&gt;&lt;/a&gt;&amp;#x4ECE;callback&amp;#x5230;async&lt;/h3&gt;&lt;p&gt;&amp;#x5F00;&amp;#x59CB;&amp;#x53EA;&amp;#x7528;Node&amp;#x7684;&amp;#x4F20;&amp;#x7EDF;callback&amp;#x5D4C;&amp;#x5957;&amp;#x65B9;&amp;#x5F0F;.&amp;#x540E;&amp;#x6765;&amp;#x6709;&amp;#x7684;api&amp;#x7EC8;&amp;#x4E8E;&amp;#x53D8;&amp;#x6210;&amp;#x4E86;callback hell,&amp;#x53D8;&amp;#x5F97;&amp;#x96BE;&amp;#x4EE5;&amp;#x9605;&amp;#x8BFB;,&amp;#x7406;&amp;#x89E3;,&amp;#x8C03;&amp;#x8BD5;,&amp;#x4E8E;&amp;#x662F;&amp;#x53EA;&amp;#x597D;&amp;#x5BFB;&amp;#x627E;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;.&amp;#x9996;&amp;#x5148;&amp;#x627E;&amp;#x5230;&amp;#x4E86;&lt;a href=&quot;https://www.npmjs.com/package/async&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;async&lt;/a&gt;.async&amp;#x6CA1;&amp;#x6709;&amp;#x5F15;&amp;#x5165;&amp;#x65B0;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;,&amp;#x4E5F;&amp;#x7528;callback,&amp;#x4F46;&amp;#x53EA;&amp;#x7528;&amp;#x4E00;&amp;#x5C42;.&amp;#x5F00;&amp;#x59CB;&amp;#x7528;&amp;#x7684;&amp;#x8FD8;&amp;#x4E0D;&amp;#x9519;,&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;a href=&quot;https://www.npmjs.com/package/async#waterfall&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;waterfall&lt;/a&gt;,&lt;a href=&quot;https://www.npmjs.com/package/async#parallel&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parallel&lt;/a&gt;&amp;#x7B49;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;api&amp;#x7EC4;&amp;#x7EC7;&amp;#x4EE3;&amp;#x7801;&amp;#x5757;.&amp;#x770B;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F8B;&amp;#x5B50;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2016/03/13/bluebird-serendipity/async-1.jpg&quot; alt=&quot;async&amp;#x5199;&amp;#x7684;&amp;#x65E0;&amp;#x5D4C;&amp;#x5957;n&amp;#x6B65;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x63A5;&amp;#x53E3;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x7528;async&amp;#x7684;waterfall&amp;#x5199;&amp;#x7684;&amp;#x4E0D;&amp;#x5E26;&amp;#x5D4C;&amp;#x5957;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;(&amp;#x6BCF;&amp;#x6B65;&amp;#x5185;&amp;#x6CA1;&amp;#x6709;asycn&amp;#x7684;api&amp;#x5D4C;&amp;#x5957;),&amp;#x6BCF;&amp;#x6B65;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6536;&amp;#x8D77;&amp;#x4E86;.&amp;#x57FA;&amp;#x672C;&amp;#x4E0A;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x76F4;&amp;#x5728;&amp;#x67E5;&amp;#x8BE2;,&amp;#x5F80;respEntity&amp;#x7684;data&amp;#x91CC;&amp;#x653E;&amp;#x6570;&amp;#x636E;.&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7528;callback&amp;#x5199;&amp;#x5DF2;&amp;#x7ECF;&amp;#x65E0;&amp;#x6CD5;&amp;#x5FCD;&amp;#x53D7;&amp;#x4E86;,&amp;#x7528;async&amp;#x7B97;&amp;#x662F;&amp;#x57FA;&amp;#x672C;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;callback hell.&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4ECE;async&amp;#x5230;Promise-bluebird&quot;&gt;&lt;a href=&quot;#&amp;#x4ECE;async&amp;#x5230;Promise-bluebird&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4ECE;async&amp;#x5230;Promise(bluebird)&quot;&gt;&lt;/a&gt;&amp;#x4ECE;async&amp;#x5230;Promise(bluebird)&lt;/h3&gt;&lt;p&gt;&amp;#x540E;&amp;#x6765;&amp;#x6709;&amp;#x4E9B;api,&amp;#x603B;&amp;#x4F53;&amp;#x662F;&amp;#x4E32;&amp;#x884C;&amp;#x7ED3;&amp;#x6784;,&amp;#x4F46;&amp;#x6709;&amp;#x4E9B;&amp;#x6B65;&amp;#x9AA4;&amp;#x53EF;&amp;#x4EE5;&amp;#x5E76;&amp;#x884C;&amp;#x8FD0;&amp;#x884C;,&amp;#x5F97;&amp;#x5230;&amp;#x6240;&amp;#x6709;&amp;#x7ED3;&amp;#x679C;&amp;#x4EE5;&amp;#x540E;&amp;#x518D;&amp;#x8FDB;&amp;#x884C;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;(&amp;#x6216;&amp;#x603B;&amp;#x4F53;&amp;#x5E76;&amp;#x884C;,&amp;#x5176;&amp;#x4E2D;&amp;#x6709;&amp;#x4E32;&amp;#x884C;),&amp;#x8FD9;&amp;#x5C31;&amp;#x9700;&amp;#x8981;&amp;#x4E32;&amp;#x5E76;&amp;#x884C;&amp;#x5D4C;&amp;#x5957;,&amp;#x5F00;&amp;#x59CB;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;async&amp;#x884C;&amp;#x4E0D;&amp;#x884C;,&amp;#x5C31;&amp;#x6CA1;&amp;#x5D4C;&amp;#x5957;&amp;#x7528;,&amp;#x540E;&amp;#x6765;&amp;#x4E3A;&amp;#x4E86;&amp;#x6027;&amp;#x80FD;&amp;#x6700;&amp;#x4F18;,&amp;#x8BD5;&amp;#x4E86;&amp;#x4E00;&amp;#x4E0B;,&amp;#x53D1;&amp;#x73B0;&amp;#x53EF;&amp;#x4EE5;&amp;#x5D4C;&amp;#x5957;&amp;#x5199;,&amp;#x4F46;&amp;#x975E;&amp;#x5E38;&amp;#x75DB;&amp;#x82E6;.&amp;#x56E0;&amp;#x4E3A;async&amp;#x6BCF;&amp;#x6B65;&amp;#x5185;&amp;#x7528;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;callback&amp;#x65B9;&amp;#x5F0F;,&amp;#x4E00;&amp;#x65E6;&amp;#x5D4C;&amp;#x5957;,&amp;#x5C31;&amp;#x662F;2&amp;#x5C42;callback&amp;#x52A0;&amp;#x4E0A;2&amp;#x5C42;async&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x6A21;&amp;#x7248;&amp;#x4EE3;&amp;#x7801;,&amp;#x6BCF;&amp;#x6B65;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x8FD8;&amp;#x9700;&amp;#x8981;&amp;#x5F80;&amp;#x540E;&amp;#x4F20;,&amp;#x7F20;&amp;#x7EF5;&amp;#x60B1;&amp;#x607B;,&amp;#x5B8C;&amp;#x5168;&amp;#x65E0;&amp;#x6CD5;&amp;#x76F4;&amp;#x89C6;.&lt;/p&gt;
&lt;p&gt;&amp;#x4E8E;&amp;#x662F;&amp;#x5F00;&amp;#x59CB;&amp;#x5B66;&amp;#x4E60;Promise,&amp;#x4E0D;&amp;#x719F;&amp;#x6089;Promise&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&lt;a href=&quot;https://leanpub.com/understandinges6/read/#leanpub-auto-promises&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x770B;&amp;#x770B;&amp;#x8FD9;&amp;#x91CC;&lt;/a&gt;,&amp;#x5E76;&amp;#x627E;&amp;#x5230;&amp;#x4E86;bluebird.bluebird&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5168;&amp;#x529F;&amp;#x80FD;&amp;#x7684;Promise&amp;#x5E93;,&amp;#x6027;&amp;#x80FD;&amp;#x636E;&amp;#x8BF4;&amp;#x4E5F;&amp;#x4E0D;&amp;#x9519;.&lt;a href=&quot;http://bluebirdjs.com/docs/why-bluebird.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&amp;#x5B98;&amp;#x7F51;:Why bluebird?&lt;/a&gt;.&amp;#x8FD9;&amp;#x4E2A;&amp;#x9636;&amp;#x6BB5;&amp;#x6301;&amp;#x7EED;&amp;#x4E86;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;,&amp;#x7528;&lt;code&gt;Promise.props&lt;/code&gt;,&lt;code&gt;Promise.all&lt;/code&gt;,&amp;#x548C;&lt;code&gt;then&lt;/code&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;async&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#x75DB;&amp;#x70B9;,&amp;#x5F02;&amp;#x6B65;&amp;#x4EE3;&amp;#x7801;&amp;#x5168;&amp;#x90E8;&amp;#x64B8;&amp;#x5E73;.&lt;/p&gt;
&lt;p&gt;&amp;#x770B;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x7531;&amp;#x5C42;&amp;#x4E32;&amp;#x5E76;&amp;#x884C;&amp;#x4F8B;&amp;#x5B50;,&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;:&amp;#x68C0;&amp;#x6D4B;&amp;#x53C2;&amp;#x6570;&amp;#x540E;,&amp;#x5F00;&amp;#x59CB;&amp;#x7528;bluebird&amp;#x8D70;&amp;#x5F02;&amp;#x6B65;&amp;#x4E32;&amp;#x5E76;&amp;#x884C;,&amp;#x5148;&amp;#x9A8C;&amp;#x8BC1;&amp;#x7528;&amp;#x6237;,&amp;#x5982;&amp;#x679C;&amp;#x53C2;&amp;#x6570;&amp;#x9519;&amp;#x8BEF;&amp;#x76F4;&amp;#x63A5;&amp;#x8FD4;&amp;#x56DE;&amp;#x5F02;&amp;#x5E38;,&amp;#x5426;&amp;#x5219;&amp;#x7EE7;&amp;#x7EED;&amp;#x5E76;&amp;#x884C;&amp;#x67E5;&amp;#x8BE2;2&amp;#x79CD;&amp;#x6570;&amp;#x636E;,&amp;#x518D;&amp;#x62FC;&amp;#x7ED3;&amp;#x679C;,&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x6216;&amp;#x4E2D;&amp;#x95F4;&amp;#x6709;&amp;#x4EFB;&amp;#x610F;&amp;#x6B65;&amp;#x9AA4;&amp;#x51FA;&amp;#x9519;&amp;#x8FD4;&amp;#x56DE;&amp;#x5F02;&amp;#x5E38;.&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; uid = req.query.uid;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// valid&amp;#x662F;&amp;#x540C;&amp;#x6B65;&amp;#x8F85;&amp;#x52A9;&amp;#x51FD;&amp;#x6570;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!valid(uid)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; res.send({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    code: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg: &lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;#x65E0;&amp;#x6548;&amp;#x53C2;&amp;#x6570;&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data: {}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// validUser, queryUser, queryMessage&amp;#x90FD;&amp;#x662F;&amp;#x5F02;&amp;#x6B65;&amp;#x67E5;&amp;#x5E93;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x7528;bluebird&amp;#x5199;&amp;#x6210;&amp;#x8FD4;&amp;#x56DE;Promise&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5199;&amp;#x6210;&amp;#x4F20;&amp;#x7EDF;&amp;#x7684;callback,&amp;#x518D;&amp;#x7528;Promise.promisify&amp;#x6216;Promise.promisifyAll&amp;#x5305;&amp;#x8D77;&amp;#x6765;&amp;#x8FD4;&amp;#x56DE;Promise&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;.resolve()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(validUser(uid))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(() =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;.props({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    user: queryUser(uid),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    message: queryMessage(uid)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(data =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; user = data.user;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; message = data.message;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  res.send({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg: &lt;span class=&quot;string&quot;&gt;&amp;apos;success&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data: {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      user: formatUser(user),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      message: formatMsg(message)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.catch(err =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  res.send({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    code: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg: err.message ? err.message : &lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;#x670D;&amp;#x52A1;&amp;#x5668;&amp;#x5F02;&amp;#x5E38;&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data: {}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;})&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4ECE;&amp;#x4E0A;&amp;#x9762;&amp;#x4F8B;&amp;#x5B50;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x51FA;,&amp;#x7528;bluebird&amp;#x5199;&amp;#x5F02;&amp;#x6B65;&amp;#x4E32;&amp;#x5E76;&amp;#x884C;&amp;#x5D4C;&amp;#x5957;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;,&amp;#x4F7F;&amp;#x6BCF;&amp;#x4E2A;&amp;#x903B;&amp;#x8F91;&amp;#x53D8;&amp;#x6210;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x72EC;&amp;#x7ACB;&amp;#x7684;&amp;#x51FD;&amp;#x6570;.&amp;#x8FD9;&amp;#x5C31;&amp;#x4F7F;&amp;#x5F00;&amp;#x53D1;,&amp;#x8C03;&amp;#x8BD5;,&amp;#x4FEE;&amp;#x6539;&amp;#x90FD;&amp;#x53D8;&amp;#x5F97;&amp;#x8F7B;&amp;#x677E;&amp;#x6109;&amp;#x5FEB;&amp;#x4E86;&amp;#x5F88;&amp;#x591A;,&amp;#x6781;&amp;#x5927;&amp;#x63D0;&amp;#x9AD8;&amp;#x4E86;&amp;#x6548;&amp;#x7387;.&amp;#x5F00;&amp;#x53D1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;,&amp;#x5B8C;&amp;#x5168;&amp;#x7B26;&amp;#x5408;&amp;#x4EBA;&amp;#x7C7B;&amp;#x601D;&amp;#x7EF4;&amp;#x8FC7;&amp;#x7A0B;,&amp;#x5904;&amp;#x7406;&amp;#x5B8C;&amp;#x4E00;&amp;#x4E2A;,&amp;#x518D;&amp;#x5904;&amp;#x7406;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;.&amp;#x6574;&amp;#x4E2A;&amp;#x5F02;&amp;#x6B65;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5B8C;&amp;#x5168;&amp;#x53EF;&amp;#x4EE5;&amp;#x5148;&amp;#x5199;&amp;#x51FA;&amp;#x6240;&amp;#x6709;&amp;#x4E1A;&amp;#x52A1;&amp;#x7684;stub&amp;#x51FD;&amp;#x6570;,&amp;#x628A;&amp;#x8DEF;&amp;#x7531;&amp;#x8D70;&amp;#x901A;,&amp;#x518D;&amp;#x6328;&amp;#x4E2A;&amp;#x5B9E;&amp;#x73B0;&amp;#x5177;&amp;#x4F53;&amp;#x529F;&amp;#x80FD;.&amp;#x8C03;&amp;#x8BD5;&amp;#x8FC7;&amp;#x7A0B;&amp;#x7406;&amp;#x89E3;&amp;#x4EE3;&amp;#x7801;&amp;#x548C;&amp;#x65AD;&amp;#x70B9;&amp;#x9009;&amp;#x62E9;&amp;#x90FD;&amp;#x53D8;&amp;#x7684;&amp;#x4E00;&amp;#x76EE;&amp;#x4E86;&amp;#x7136;.&amp;#x4E1A;&amp;#x52A1;&amp;#x66F4;&amp;#x6539;&amp;#x65F6;&amp;#x5019;,&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x4E32;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x53EA;&amp;#x8981;&amp;#x6CE8;&amp;#x91CA;&amp;#x6389;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;then&amp;#x4EE3;&amp;#x7801;&amp;#x5757;&amp;#x5C31;&amp;#x884C;,&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x5E76;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x53EA;&amp;#x8981;&amp;#x6CE8;&amp;#x91CA;&amp;#x6389;Promise.props&amp;#x91CC;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x67D0;&amp;#x4E00;&amp;#x9879;&amp;#x5C31;&amp;#x884C;.&amp;#x6DFB;&amp;#x52A0;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x540C;&amp;#x7406;.&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4ECE;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x5F02;&amp;#x6B65;&amp;#x4EE3;&amp;#x7801;&amp;#x5DE5;&amp;#x5177;&amp;#x5230;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;&quot;&gt;&lt;a href=&quot;#&amp;#x4ECE;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x5F02;&amp;#x6B65;&amp;#x4EE3;&amp;#x7801;&amp;#x5DE5;&amp;#x5177;&amp;#x5230;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4ECE;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x5F02;&amp;#x6B65;&amp;#x4EE3;&amp;#x7801;&amp;#x5DE5;&amp;#x5177;&amp;#x5230;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;&quot;&gt;&lt;/a&gt;&amp;#x4ECE;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x5F02;&amp;#x6B65;&amp;#x4EE3;&amp;#x7801;&amp;#x5DE5;&amp;#x5177;&amp;#x5230;bluebird&amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;&lt;/h3&gt;&lt;p&gt;&amp;#x4F46;&amp;#x5B9E;&amp;#x9645;&amp;#x5DE5;&amp;#x4F5C;&amp;#x4E2D;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F1A;&amp;#x9047;&amp;#x4E0A;&amp;#x4E00;&amp;#x4E9B;&amp;#x95EE;&amp;#x9898;,&amp;#x6BD4;&amp;#x5982;&amp;#x53C2;&amp;#x6570;&amp;#x68C0;&amp;#x67E5;&amp;#x672C;&amp;#x8EAB;&amp;#x7684;&amp;#x5F02;&amp;#x5E38;&amp;#x68C0;&amp;#x6D4B;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;,&amp;#x7ECF;&amp;#x5E38;&amp;#x9700;&amp;#x8981;&amp;#x4E0D;&amp;#x6B62;&amp;#x4E00;&amp;#x4E2A;.&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x9700;&amp;#x8981;&amp;#x91CD;&amp;#x590D;&amp;#x5199;&amp;#x591A;&amp;#x6B21;&amp;#x8FD4;&amp;#x56DE;&amp;#x5F02;&amp;#x5E38;.&amp;#x52A0;&amp;#x4E0A;&amp;#x5F02;&amp;#x6B65;&amp;#x90E8;&amp;#x5206;&amp;#x4E5F;&amp;#x6709;&amp;#x8FD4;&amp;#x56DE;&amp;#x5F02;&amp;#x5E38;,&amp;#x5BFC;&amp;#x81F4;&amp;#x5F02;&amp;#x5E38;&amp;#x5904;&amp;#x7406;&amp;#x6CA1;&amp;#x90A3;&amp;#x4E48;&amp;#x6E05;&amp;#x6670;,&amp;#x4E5F;&amp;#x4E0D;&amp;#x7B26;&amp;#x5408;DRY&amp;#x539F;&amp;#x5219;.&amp;#x6709;&amp;#x4E00;&amp;#x6B21;&amp;#x5199;&amp;#x4E86;3&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x68C0;&amp;#x67E5;&amp;#x52A0;&amp;#x4E09;&amp;#x4E2A;&amp;#x8FD4;&amp;#x56DE;,&amp;#x770B;&amp;#x7740;&amp;#x5B9E;&amp;#x5728;&amp;#x96BE;&amp;#x53D7;,&amp;#x4E8E;&amp;#x662F;&amp;#x5C1D;&amp;#x8BD5;&amp;#x4E86;&amp;#x4E00;&amp;#x4E0B;&amp;#x628A;&amp;#x6574;&amp;#x4E2A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x90FD;&amp;#x7528;&amp;#x4E00;&amp;#x53E5;Promise&amp;#x4E32;&amp;#x8D77;&amp;#x6765;,&amp;#x7528;&amp;#x6700;&amp;#x540E;&amp;#x7684;catch&amp;#x6355;&amp;#x83B7;&amp;#x4ECE;&amp;#x5934;&amp;#x5230;&amp;#x5C3E;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x540C;&amp;#x6B65;,&amp;#x5F02;&amp;#x6B65;&amp;#x548C;&amp;#x5185;&amp;#x90E8;&amp;#x5D4C;&amp;#x5957;&amp;#x5F02;&amp;#x5E38;,&amp;#x53D1;&amp;#x73B0;&amp;#x53EF;&amp;#x4EE5;,&amp;#x4E8E;&amp;#x662F;&amp;#x6BCF;&amp;#x4E2A;&amp;#x8DEF;&amp;#x7531;&amp;#x7684;&amp;#x4E3B;&amp;#x4F53;&amp;#x5C31;&amp;#x53D8;&amp;#x6210;&amp;#x4E00;&amp;#x53E5;Promise.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x60CA;&amp;#x559C;-&amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;-&amp;#x628A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7528;&amp;#x4E00;&amp;#x6761;&amp;#x8BED;&amp;#x53E5;&amp;#x4E32;&amp;#x8D77;&amp;#x6765;&amp;#x4E86;&quot;&gt;&lt;a href=&quot;#&amp;#x60CA;&amp;#x559C;-&amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;-&amp;#x628A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7528;&amp;#x4E00;&amp;#x6761;&amp;#x8BED;&amp;#x53E5;&amp;#x4E32;&amp;#x8D77;&amp;#x6765;&amp;#x4E86;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x60CA;&amp;#x559C;: &amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;,&amp;#x628A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7528;&amp;#x4E00;&amp;#x6761;&amp;#x8BED;&amp;#x53E5;&amp;#x4E32;&amp;#x8D77;&amp;#x6765;&amp;#x4E86;&quot;&gt;&lt;/a&gt;&amp;#x60CA;&amp;#x559C;: &amp;#x4F5C;&amp;#x4E3A;&amp;#x4EE3;&amp;#x7801;&amp;#x63A7;&amp;#x5236;&amp;#x6D41;&amp;#x5DE5;&amp;#x5177;,&amp;#x628A;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;&amp;#x7528;&amp;#x4E00;&amp;#x6761;&amp;#x8BED;&amp;#x53E5;&amp;#x4E32;&amp;#x8D77;&amp;#x6765;&amp;#x4E86;&lt;/h2&gt;&lt;p&gt;&amp;#x6309;&amp;#x8FD9;&amp;#x4E2A;&amp;#x601D;&amp;#x8DEF;,&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4F8B;&amp;#x5B50;&amp;#x53EF;&amp;#x4EE5;&amp;#x6539;&amp;#x6210;&amp;#x8FD9;&amp;#x6837;:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; uid = req.query.uid;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;.resolve()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(testUid(uid))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(validUser(uid))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(() =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;.props({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    user: queryUser(uid),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    message: queryMessage(uid)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.then(data =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; user = data.user;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; message = data.message;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  res.send({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    code: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg: &lt;span class=&quot;string&quot;&gt;&amp;apos;success&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data: {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      user: formatUser(user),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      message: formatMsg(message)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.catch(err =&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  sendError(err, res);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;testUid&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;uid&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!valid(uid)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; err = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;#x65E0;&amp;#x6548;&amp;#x53C2;&amp;#x6570;&amp;apos;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    err.code = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; err;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#x8FD4;&amp;#x56DE;&amp;#x5F02;&amp;#x5E38;&amp;#x51FD;&amp;#x6570;&lt;code&gt;sendError&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x72EC;&amp;#x7ACB;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&amp;#x6A21;&amp;#x5757;&amp;#x4F9B;&amp;#x6240;&amp;#x6709;&amp;#x8DEF;&amp;#x7531;&amp;#x4F7F;&amp;#x7528;,&amp;#x6BCF;&amp;#x5904;&amp;#x5F02;&amp;#x5E38;&amp;#x53EA;&amp;#x9700;&amp;#x8981;&amp;#x5B9A;&amp;#x4E49;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x9519;&amp;#x8BEF;&amp;#x7F16;&amp;#x7801;&amp;#x548C;&amp;#x6587;&amp;#x5B57;,&amp;#x7136;&amp;#x540E;&amp;#x629B;&amp;#x51FA;.&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;apos;use strict&amp;apos;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;module&lt;/span&gt;.exports = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sendError&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;res, err&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  res.send({&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    code: err.code ? err.code : &lt;span class=&quot;number&quot;&gt;999&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    message: err.message ? err.message : &lt;span class=&quot;string&quot;&gt;&amp;apos;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5F02;&amp;#x5E38;&amp;apos;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    data: {}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;};&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;&amp;#x91CD;&amp;#x590D;&amp;#x8FD4;&amp;#x56DE;&amp;#x5F02;&amp;#x5E38;.&lt;/p&gt;
&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x5462;?&amp;#x5C31;&amp;#x6CA1;&amp;#x6709;&amp;#x7136;&amp;#x540E;&amp;#x4E86;,&amp;#x6240;&amp;#x6709;&amp;#x8DEF;&amp;#x7531;&amp;#x5168;&amp;#x90FD;&amp;#x6309;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5957;&amp;#x8DEF;&amp;#x91CD;&amp;#x5199;,&amp;#x81EA;&amp;#x6211;&amp;#x611F;&amp;#x89C9;&amp;#x903C;&amp;#x683C;&amp;#x9AD8;&amp;#x4E86;&amp;#x4E9B;.&amp;#x6709;&amp;#x4E9B;&amp;#x51FD;&amp;#x6570;&amp;#x5F0F;&amp;#x8FDE;&amp;#x7EED;transform&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x611F;&amp;#x89C9;,&amp;#x6574;&amp;#x4E2A;&amp;#x6D41;&amp;#x7A0B;&amp;#x4EE5;&amp;#x8BF7;&amp;#x6C42;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A;&amp;#x8F93;&amp;#x5165;,&amp;#x4EE5;&amp;#x8FD4;&amp;#x56DE;&amp;#x8BF7;&amp;#x6C42;&amp;#x7ED3;&amp;#x675F;,&amp;#x4E00;&amp;#x53E5;&amp;#x5B8C;&amp;#x6210;,&amp;#x4E2D;&amp;#x95F4;&amp;#x5F02;&amp;#x6B65;&amp;#x5E76;&amp;#x884C;&amp;#x4EA7;&amp;#x751F;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;return Promise.props()&lt;/code&gt;&amp;#x6216;return&amp;#x5355;&amp;#x4E00;Promise&amp;#x5F80;&amp;#x540E;&amp;#x4F20;,&amp;#x90FD;&amp;#x5168;&amp;#x4E86;&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;then&lt;/code&gt;&amp;#x91CC;&amp;#x6574;&amp;#x7406;,&amp;#x683C;&amp;#x5F0F;&amp;#x5316;&amp;#x6570;&amp;#x636E;&amp;#x8FD4;&amp;#x56DE;.&amp;#x540E;&amp;#x9762;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;.catch&lt;/code&gt;&amp;#x6355;&amp;#x83B7;&amp;#x6240;&amp;#x6709;&amp;#x5F02;&amp;#x5E38;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x7684;bluebird-Api-&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x5E38;&amp;#x7528;&amp;#x7684;bluebird-Api-&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x7684;bluebird Api,&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x5E38;&amp;#x7528;&amp;#x7684;bluebird Api,&lt;a href=&quot;http://bluebirdjs.com/docs/api-reference.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6D41;&amp;#x63A7;&amp;#x5236;api&lt;br&gt;&lt;code&gt;then&lt;/code&gt;(&amp;#x5355;&amp;#x4E00;&amp;#x5F02;&amp;#x6B65;&amp;#x6216;&amp;#x540C;&amp;#x6B65;),&lt;code&gt;Promise.props&lt;/code&gt;(&amp;#x6709;&amp;#x9650;&amp;#x4E2A;&amp;#x6570;&amp;#x7684;&amp;#x5E76;&amp;#x884C;),&lt;code&gt;Promise.all&lt;/code&gt;,&lt;code&gt;Prommise.map&lt;/code&gt;(&amp;#x4E0D;&amp;#x5B9A;&amp;#x4E2A;&amp;#x6570;&amp;#x7684;&amp;#x5E76;&amp;#x884C;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6570;&amp;#x636E;&amp;#x5E93;api&lt;br&gt;&lt;code&gt;Promise.using&lt;/code&gt;(&amp;#x8BBF;&amp;#x95EE;&amp;#x6570;&amp;#x636E;&amp;#x5E93;,&amp;#x81EA;&amp;#x52A8;&amp;#x91CA;&amp;#x653E;&amp;#x8FDE;&amp;#x63A5;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5176;&amp;#x4ED6;&lt;br&gt;&lt;code&gt;Promise.resolve()&lt;/code&gt;(&amp;#x4FBF;&amp;#x4E8E;&amp;#x4F20;&amp;#x9012;&amp;#x503C;),&lt;code&gt;catch&lt;/code&gt;(&amp;#x6355;&amp;#x83B7;&amp;#x5F02;&amp;#x5E38;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x5E0C;&amp;#x671B;&quot;&gt;&lt;a href=&quot;#&amp;#x5E0C;&amp;#x671B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E0C;&amp;#x671B;&quot;&gt;&lt;/a&gt;&amp;#x5E0C;&amp;#x671B;&lt;/h2&gt;&lt;p&gt;&amp;#x6709;&amp;#x5F88;&amp;#x591A;bluebird&amp;#x7684;api,&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x5E72;&amp;#x5565;&amp;#x7684;,&amp;#x5927;&amp;#x81F4;&amp;#x770B;&amp;#x4E86;&amp;#x4E0B;,&amp;#x4E5F;&amp;#x6CA1;&amp;#x770B;&amp;#x61C2;,&amp;#x5982;&amp;#x679C;&amp;#x60A8;&amp;#x6709;&amp;#x5206;&amp;#x4EAB;,&amp;#x4E00;&amp;#x5B9A;&amp;#x8981;&amp;#x544A;&amp;#x8BC9;&amp;#x6211;,&amp;#x4E07;&amp;#x5206;&amp;#x611F;&amp;#x8C22;.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;p&gt;&amp;#x7528;&lt;a hre
    
    </summary>
    
    
      <category term="Node.js" scheme="http://yoursite.com/tags/Node-js/"/>
    
      <category term="Promise" scheme="http://yoursite.com/tags/Promise/"/>
    
      <category term="bluebird" scheme="http://yoursite.com/tags/bluebird/"/>
    
  </entry>
  
  <entry>
    <title>Clojure的sequence抽象</title>
    <link href="http://yoursite.com/2016/03/11/clojure-abstraction-seq-collection/"/>
    <id>http://yoursite.com/2016/03/11/clojure-abstraction-seq-collection/</id>
    <published>2016-03-11T10:02:04.000Z</published>
    <updated>2016-03-11T10:20:23.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x6765;&amp;#x6E90;:&lt;a href=&quot;http://www.braveclojure.com/core-functions-in-depth/#Programming_to_Abstractions&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Clojure for the brave and true&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;Programming-to-Abstractions&quot;&gt;&lt;a href=&quot;#&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;Programming-to-Abstractions&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;Programming to Abstractions?&quot;&gt;&lt;/a&gt;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;Programming to Abstractions?&lt;/h2&gt;&lt;p&gt;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x51FD;&amp;#x6570;&amp;#x5E93;&amp;#x7684;&amp;#x539F;&amp;#x5219;,Clojure&amp;#x91C7;&amp;#x7528;&amp;#x4E86;&amp;#x8FD9;&amp;#x79CD;&amp;#x539F;&amp;#x5219;.&lt;br&gt;&amp;#x5373;&amp;#x628A;&amp;#x5177;&amp;#x6709;&amp;#x76F8;&amp;#x4F3C;&amp;#x7279;&amp;#x5F81;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x62BD;&amp;#x8C61;&amp;#x6210;&amp;#x67D0;&amp;#x4E2A;&amp;#x6982;&amp;#x5FF5;,&amp;#x6BD4;&amp;#x5982;&lt;code&gt;sequence&lt;/code&gt;.&amp;#x4E4B;&amp;#x540E;&amp;#x8FD9;&amp;#x4E9B;&amp;#x7C7B;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&amp;#x64CD;&amp;#x4F5C;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&quot;&gt;&lt;a href=&quot;#&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&quot;&gt;&lt;/a&gt;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&lt;/h2&gt;&lt;p&gt;Javascript&amp;#x7684;&lt;code&gt;Lodash&lt;/code&gt;&amp;#x5E93;&amp;#x7684;&lt;a href=&quot;https://lodash.com/docs#map&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;map&lt;/a&gt;&amp;#x548C;&lt;a href=&quot;https://lodash.com/docs#reduce&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;reduce&lt;/a&gt;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x540C;&amp;#x65F6;&amp;#x63A5;&amp;#x53D7;&amp;#x6570;&amp;#x7EC4;&amp;#x548C;&amp;#x5BF9;&amp;#x8C61;&amp;#x4F5C;&amp;#x4E3A;&amp;#x53C2;&amp;#x6570;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5E26;&amp;#x6765;&amp;#x7684;&amp;#x597D;&amp;#x5904;&quot;&gt;&lt;a href=&quot;#&amp;#x5E26;&amp;#x6765;&amp;#x7684;&amp;#x597D;&amp;#x5904;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E26;&amp;#x6765;&amp;#x7684;&amp;#x597D;&amp;#x5904;&quot;&gt;&lt;/a&gt;&amp;#x5E26;&amp;#x6765;&amp;#x7684;&amp;#x597D;&amp;#x5904;&lt;/h2&gt;&lt;p&gt;&amp;#x8BA9;&amp;#x4F60;&amp;#x5199;&amp;#x7A0B;&amp;#x5E8F;&amp;#x65F6;&amp;#x5019;,&amp;#x4E13;&amp;#x6CE8;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x80FD;&amp;#x6709;&amp;#x54EA;&amp;#x4E9B;&amp;#x64CD;&amp;#x4F5C;,&amp;#x540C;&amp;#x65F6;&amp;#x5C3D;&amp;#x53EF;&amp;#x80FD;&amp;#x5730;&amp;#x5FFD;&amp;#x7565;&amp;#x5B83;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;.&lt;/p&gt;
&lt;h2 id=&quot;map&amp;#x51FD;&amp;#x6570;&amp;#x4F8B;&amp;#x5B50;&quot;&gt;&lt;a href=&quot;#map&amp;#x51FD;&amp;#x6570;&amp;#x4F8B;&amp;#x5B50;&quot; class=&quot;headerlink&quot; title=&quot;map&amp;#x51FD;&amp;#x6570;&amp;#x4F8B;&amp;#x5B50;&quot;&gt;&lt;/a&gt;map&amp;#x51FD;&amp;#x6570;&amp;#x4F8B;&amp;#x5B50;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(defn titleize&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [topic]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (str topic &amp;quot; for the Brave and True&amp;quot;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(map titleize [&amp;quot;Hamsters&amp;quot; &amp;quot;Ragnarok&amp;quot;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; (&amp;quot;Hamsters for the Brave and True&amp;quot; &amp;quot;Ragnarok for the Brave and True&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(map titleize &amp;apos;(&amp;quot;Empathy&amp;quot; &amp;quot;Decorating&amp;quot;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; (&amp;quot;Empathy for the Brave and True&amp;quot; &amp;quot;Decorating for the Brave and True&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(map titleize #{&amp;quot;Elbows&amp;quot; &amp;quot;Soap Carving&amp;quot;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; (&amp;quot;Elbows for the Brave and True&amp;quot; &amp;quot;Soap Carving for the Brave and True&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var list = [&amp;quot;Transylvania&amp;quot;, &amp;quot;Forks, WA&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;map(list, function (val) { return val + &amp;quot; mapped!&amp;quot;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// =&amp;gt; [&amp;quot;Transylvania mapped!&amp;quot;, &amp;quot;Forks, WA mapped!&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4ECE;&amp;#x4F8B;&amp;#x5B50;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x51FA;,Clojure&amp;#x7684;&lt;code&gt;map&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x53EF;&amp;#x4EE5;&amp;#x63A5;&amp;#x53D7;&amp;#x591A;&amp;#x79CD;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;,&amp;#x5305;&amp;#x62EC;List,Vector,Set,Map.&lt;code&gt;map&lt;/code&gt;&amp;#x4E0D;&amp;#x662F;&amp;#x57FA;&amp;#x4E8E;&amp;#x7279;&amp;#x5B9A;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;,&amp;#x800C;&amp;#x662F;&amp;#x57FA;&amp;#x4E8E;&lt;code&gt;sequence&lt;/code&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;.&lt;/p&gt;
&lt;h2 id=&quot;sequence&amp;#x4EE5;&amp;#x53CA;&amp;#x4E09;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&quot;&gt;&lt;a href=&quot;#sequence&amp;#x4EE5;&amp;#x53CA;&amp;#x4E09;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&quot; class=&quot;headerlink&quot; title=&quot;sequence&amp;#x4EE5;&amp;#x53CA;&amp;#x4E09;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&quot;&gt;&lt;/a&gt;sequence&amp;#x4EE5;&amp;#x53CA;&amp;#x4E09;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&lt;/h2&gt;&lt;p&gt;&lt;code&gt;sequence&lt;/code&gt;&amp;#x662F;Clojure&amp;#x5BF9;&amp;#x67D0;&amp;#x4E9B;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x7684;&amp;#x62BD;&amp;#x8C61;,&amp;#x5373;&amp;#x5E8F;&amp;#x5217;&amp;#x7ED3;&amp;#x6784;.&lt;code&gt;sequence&lt;/code&gt;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;first&lt;/code&gt;: &amp;#x53C2;&amp;#x6570;(&amp;#x4E00;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;)&amp;#x5E8F;&amp;#x5217;&amp;#x7684;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x503C; &lt;a href=&quot;http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/first&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rest&lt;/code&gt;: &amp;#x53C2;&amp;#x6570;(&amp;#x4E00;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;)&amp;#x9664;&amp;#x4E86;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x503C;&amp;#x6784;&amp;#x6210;&amp;#x7684;&amp;#x5E8F;&amp;#x5217; &lt;a href=&quot;http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/rest&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cons&lt;/code&gt;: &amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;(&amp;#x4E00;&amp;#x4E2A;&amp;#x503C;)&amp;#x548C;&amp;#x7B2C;2&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;(&amp;#x4E00;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;)&amp;#x65B0;&amp;#x7EC4;&amp;#x6210;&amp;#x7684;&amp;#x5E8F;&amp;#x5217; &lt;a href=&quot;http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/cons&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x53EA;&amp;#x8981;&amp;#x67D0;&amp;#x79CD;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#x652F;&amp;#x6301;&amp;#x4E0A;&amp;#x9762;&amp;#x4E09;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;,&amp;#x5C31;&amp;#x80FD;&amp;#x628A;&amp;#x5B83;&amp;#x89C6;&amp;#x4E3A;&lt;code&gt;sequence&lt;/code&gt;,&amp;#x56E0;&amp;#x6B64;&amp;#x5C31;&amp;#x80FD;&amp;#x5BF9;&amp;#x5B83;&amp;#x8FDB;&amp;#x884C;map(&amp;#x548C;&amp;#x5176;&amp;#x4ED6;&amp;#x57FA;&amp;#x4E8E;&lt;code&gt;sequence&lt;/code&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x51FD;&amp;#x6570;,&amp;#x5305;&amp;#x62EC;&lt;code&gt;filter&lt;/code&gt;,&lt;code&gt;reduce&lt;/code&gt;,&lt;code&gt;group-by&lt;/code&gt;&amp;#x7B49;)&amp;#x64CD;&amp;#x4F5C;.&lt;/p&gt;
&lt;h2 id=&quot;sequence&amp;#x51FD;&amp;#x6570;&amp;#x8FD0;&amp;#x884C;&amp;#x673A;&amp;#x5236;&quot;&gt;&lt;a href=&quot;#sequence&amp;#x51FD;&amp;#x6570;&amp;#x8FD0;&amp;#x884C;&amp;#x673A;&amp;#x5236;&quot; class=&quot;headerlink&quot; title=&quot;sequence&amp;#x51FD;&amp;#x6570;&amp;#x8FD0;&amp;#x884C;&amp;#x673A;&amp;#x5236;&quot;&gt;&lt;/a&gt;sequence&amp;#x51FD;&amp;#x6570;&amp;#x8FD0;&amp;#x884C;&amp;#x673A;&amp;#x5236;&lt;/h2&gt;&lt;p&gt;&amp;#x5F53;&amp;#x67D0;&amp;#x4E2A;&lt;code&gt;sequence&lt;/code&gt;&amp;#x51FD;&amp;#x6570;(&amp;#x6BD4;&amp;#x5982;&lt;code&gt;map&lt;/code&gt;)&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;,&amp;#x4F1A;&amp;#x628A;&amp;#x53C2;&amp;#x6570;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;seq&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x8F6C;&amp;#x6362;&amp;#x6210;&amp;#x7C7B;&amp;#x4F3C;List&amp;#x7684;,&amp;#x652F;&amp;#x6301;&amp;#x4E0A;&amp;#x8FF0;&lt;code&gt;sequence&lt;/code&gt;&amp;#x6838;&amp;#x5FC3;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;.&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x7528;&amp;#x5B83;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5173;&amp;#x8BA1;&amp;#x7B97;.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(seq &amp;apos;(1 2 3))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; (1 2 3)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(seq [1 2 3])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; (1 2 3)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(seq #{1 2 3})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; (1 2 3)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(seq {:name &amp;quot;Bill Compton&amp;quot; :occupation &amp;quot;Dead mopey guy&amp;quot;})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;; =&amp;gt; ([:name &amp;quot;Bill Compton&amp;quot;] [:occupation &amp;quot;Dead mopey guy&amp;quot;])&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;sequence&amp;#x51FD;&amp;#x6570;&amp;#x4E3E;&amp;#x4F8B;&quot;&gt;&lt;a href=&quot;#sequence&amp;#x51FD;&amp;#x6570;&amp;#x4E3E;&amp;#x4F8B;&quot; class=&quot;headerlink&quot; title=&quot;sequence&amp;#x51FD;&amp;#x6570;&amp;#x4E3E;&amp;#x4F8B;&quot;&gt;&lt;/a&gt;&lt;code&gt;sequence&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x4E3E;&amp;#x4F8B;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://www.braveclojure.com/core-functions-in-depth/#Seq_Function_Examples&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x53C2;&amp;#x8003;&amp;#x8FD9;&amp;#x91CC;&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x6765;&amp;#x6E90;:&lt;a href=&quot;http://www.braveclojure.com/core-functions-in-depth/#Programming_to_Abstractions&quot; target=&quot;_blank&quot; rel=&quot;external
    
    </summary>
    
    
      <category term="Clojure" scheme="http://yoursite.com/tags/Clojure/"/>
    
  </entry>
  
  <entry>
    <title>今天听了陈天老师的函数式编程的分享</title>
    <link href="http://yoursite.com/2016/02/27/compose-monad/"/>
    <id>http://yoursite.com/2016/02/27/compose-monad/</id>
    <published>2016-02-27T14:10:32.000Z</published>
    <updated>2016-03-04T14:15:23.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&quot;&gt;&lt;a href=&quot;#&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&quot;&gt;&lt;/a&gt;&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&lt;/h3&gt;&lt;p&gt;FP&amp;#x7684;&amp;#x6838;&amp;#x5FC3;&amp;#x662F;&amp;#x7EC4;&amp;#x5408;,&amp;#x4E00;&amp;#x4E9B;&amp;#x6BD4;&amp;#x8F83;&amp;#x96BE;&amp;#x61C2;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;(&amp;#x6BD4;&amp;#x5982;&lt;a href=&quot;https://en.wikipedia.org/wiki/Monad_(functional_programming&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;monad&lt;/a&gt;), &lt;a href=&quot;https://en.wikipedia.org/wiki/Functor&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;functor&lt;/a&gt;),&amp;#x90FD;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x5F3A;&amp;#x5316;FP&amp;#x7684;&amp;#x7EC4;&amp;#x5408;&amp;#x529F;&amp;#x80FD;.&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E8C;&quot;&gt;&lt;a href=&quot;#&amp;#x91CD;&amp;#x70B9;&amp;#x4E8C;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E8C;&quot;&gt;&lt;/a&gt;&amp;#x91CD;&amp;#x70B9;&amp;#x4E8C;&lt;/h3&gt;&lt;p&gt;FP&amp;#x975E;&amp;#x5E38;&amp;#x6709;&amp;#x5229;&amp;#x4E8E;&amp;#x5B9E;&amp;#x73B0;OpenClose&amp;#x539F;&amp;#x5219;,&amp;#x65E2;Open to extension, close to modification.&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E09;&quot;&gt;&lt;a href=&quot;#&amp;#x91CD;&amp;#x70B9;&amp;#x4E09;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E09;&quot;&gt;&lt;/a&gt;&amp;#x91CD;&amp;#x70B9;&amp;#x4E09;&lt;/h3&gt;&lt;p&gt;Javascript&amp;#x7684;&lt;code&gt;Promise&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&lt;code&gt;monad&lt;/code&gt;.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&quot;&gt;&lt;a href=&quot;#&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x91CD;&amp;#x70B9;&amp;#x4E00;&quot;&gt;&lt;/a&gt;&amp;#x91CD;&amp;#x70B
    
    </summary>
    
    
      <category term="Functional Programming" scheme="http://yoursite.com/tags/Functional-Programming/"/>
    
  </entry>
  
  <entry>
    <title>Rails Many to Many Associations</title>
    <link href="http://yoursite.com/2013/10/20/rails-many-to-many-associations/"/>
    <id>http://yoursite.com/2013/10/20/rails-many-to-many-associations/</id>
    <published>2013-10-19T16:00:00.000Z</published>
    <updated>2016-02-27T09:48:59.000Z</updated>
    
    <content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;has_many through&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;requires a join model&lt;/li&gt;
&lt;li&gt;name your join table anything&lt;ul&gt;
&lt;li&gt;ex: memberships&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pros:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;more flexible, can add additional attributes(solumns) to join table&lt;br&gt;Cons:&lt;/li&gt;
&lt;li&gt;additional join model required&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;has_and_belongs_to_many&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;no join model necesary&lt;/li&gt;
&lt;li&gt;assumes join table based on convention&lt;ul&gt;
&lt;li&gt;ex: groups_users&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;easier, no join model&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;not as flexible, can&amp;#x2019;t add additional attributes(solumns) to join table&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;&lt;p&gt;has_many through&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;requires a join model&lt;/li&gt;
&lt;li&gt;name your join table anything&lt;ul&gt;
&lt;li&gt;ex: memberships&lt;/li&gt;
&lt;/ul&gt;
&lt;/
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Deployment Options</title>
    <link href="http://yoursite.com/2013/09/27/deployment-options/"/>
    <id>http://yoursite.com/2013/09/27/deployment-options/</id>
    <published>2013-09-26T16:00:00.000Z</published>
    <updated>2016-02-27T09:48:48.000Z</updated>
    
    <content type="html">&lt;ul&gt;
&lt;li&gt;Managed&lt;ul&gt;
&lt;li&gt;Google App Engine&lt;/li&gt;
&lt;li&gt;Heroku&lt;ul&gt;
&lt;li&gt;cons: no server access, constrained enviroment&lt;/li&gt;
&lt;li&gt;pros: don&amp;#x2019;t need devops skills&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Self Service&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VPS&lt;ul&gt;
&lt;li&gt;pros: your own virtualized environment/server&lt;/li&gt;
&lt;li&gt;cons: need devop/sysadmin skills&lt;/li&gt;
&lt;li&gt;AWS, Rackspace, Digital Ocean, Linode&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Physical Machines&lt;ul&gt;
&lt;li&gt;colocation&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;Shared host&lt;ul&gt;
&lt;li&gt;your app in a dir, other apps in other dir&lt;/li&gt;
&lt;li&gt;roomates&lt;/li&gt;
&lt;li&gt;pro: very cheap&lt;/li&gt;
&lt;li&gt;cons: too many to list&lt;/li&gt;
&lt;li&gt;Vendors&lt;ul&gt;
&lt;li&gt;Dreamhost&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;Managed&lt;ul&gt;
&lt;li&gt;Google App Engine&lt;/li&gt;
&lt;li&gt;Heroku&lt;ul&gt;
&lt;li&gt;cons: no server access, constrained enviroment&lt;/li&gt;
&lt;li&gt;pros: don&amp;#x2019;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>HTTP and MVC</title>
    <link href="http://yoursite.com/2013/09/17/http-and-mvc/"/>
    <id>http://yoursite.com/2013/09/17/http-and-mvc/</id>
    <published>2013-09-16T16:00:00.000Z</published>
    <updated>2016-02-27T09:48:01.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;HTTP&quot;&gt;&lt;a href=&quot;#HTTP&quot; class=&quot;headerlink&quot; title=&quot;HTTP:&quot;&gt;&lt;/a&gt;HTTP:&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Request&lt;ul&gt;
&lt;li&gt;verb/method (GET or POST)&lt;/li&gt;
&lt;li&gt;url&lt;/li&gt;
&lt;li&gt;parameters&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Response&lt;ul&gt;
&lt;li&gt;status code (200, 301, 404, 500)&lt;/li&gt;
&lt;li&gt;payload&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Stateless: we have to rebuild the world at every request.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;MVC&quot;&gt;&lt;a href=&quot;#MVC&quot; class=&quot;headerlink&quot; title=&quot;MVC:&quot;&gt;&lt;/a&gt;MVC:&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Model, View, Controller&lt;/li&gt;
&lt;li&gt;Controller&lt;ul&gt;
&lt;li&gt;routes to appropriate action based on request&lt;/li&gt;
&lt;li&gt;action my talk to model, and then either redirect (301) or render view (200) as the response&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Important-Sinatra-concepts&quot;&gt;&lt;a href=&quot;#Important-Sinatra-concepts&quot; class=&quot;headerlink&quot; title=&quot;Important Sinatra concepts:&quot;&gt;&lt;/a&gt;Important Sinatra concepts:&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Rendering template allows access by template to ivars set up in action&lt;/li&gt;
&lt;li&gt;Template have access seeeion hash&lt;/li&gt;
&lt;li&gt;session&lt;/li&gt;
&lt;li&gt;params&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;HTTP&quot;&gt;&lt;a href=&quot;#HTTP&quot; class=&quot;headerlink&quot; title=&quot;HTTP:&quot;&gt;&lt;/a&gt;HTTP:&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Request&lt;ul&gt;
&lt;li&gt;verb/method (GET or POST)&lt;/li&gt;
&lt;li&gt;url
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Porcess of Building Web App using Rails</title>
    <link href="http://yoursite.com/2013/09/17/porcess-of-building-web-app-using-rails/"/>
    <id>http://yoursite.com/2013/09/17/porcess-of-building-web-app-using-rails/</id>
    <published>2013-09-16T16:00:00.000Z</published>
    <updated>2016-02-27T09:48:13.000Z</updated>
    
    <content type="html">&lt;ol&gt;
&lt;li&gt;build mock up&lt;/li&gt;
&lt;li&gt;build domain model&lt;/li&gt;
&lt;li&gt;build relation DB that support all business logic&lt;/li&gt;
&lt;li&gt;build url points, control actions, template&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;build mock up&lt;/li&gt;
&lt;li&gt;build domain model&lt;/li&gt;
&lt;li&gt;build relation DB that support all business logic&lt;/li&gt;
&lt;li&gt;build url points, con
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Tools of Modern Web Development</title>
    <link href="http://yoursite.com/2013/09/17/tools-of-modern-web-development/"/>
    <id>http://yoursite.com/2013/09/17/tools-of-modern-web-development/</id>
    <published>2013-09-16T16:00:00.000Z</published>
    <updated>2016-02-27T09:48:25.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;juggle-many-layers-of-technologies-all-with-different-syntax-amp-behaviors-and-understand-how-they-integrate-with-each-other&quot;&gt;&lt;a href=&quot;#juggle-many-layers-of-technologies-all-with-different-syntax-amp-behaviors-and-understand-how-they-integrate-with-each-other&quot; class=&quot;headerlink&quot; title=&quot;juggle many layers of technologies, all with different syntax &amp;amp; behaviors, and understand how they integrate with each other&quot;&gt;&lt;/a&gt;juggle many layers of technologies, all with different syntax &amp;amp; behaviors, and understand how they integrate with each other&lt;/h2&gt;&lt;h2 id=&quot;Other-things-web-developers-must-be-aware-of&quot;&gt;&lt;a href=&quot;#Other-things-web-developers-must-be-aware-of&quot; class=&quot;headerlink&quot; title=&quot;Other things web developers must be aware of:&quot;&gt;&lt;/a&gt;Other things web developers must be aware of:&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;best practices&lt;/li&gt;
&lt;li&gt;security concerns&lt;/li&gt;
&lt;li&gt;browser compatibility&lt;/li&gt;
&lt;li&gt;mobile operating systems&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;FrontEnd&quot;&gt;&lt;a href=&quot;#FrontEnd&quot; class=&quot;headerlink&quot; title=&quot;FrontEnd&quot;&gt;&lt;/a&gt;FrontEnd&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Javascript&lt;ul&gt;
&lt;li&gt;frameworks&lt;ul&gt;
&lt;li&gt;jquery&lt;/li&gt;
&lt;li&gt;&amp;#x2026;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MVC&lt;ul&gt;
&lt;li&gt;backbone.js&lt;/li&gt;
&lt;li&gt;Ember.js&lt;/li&gt;
&lt;li&gt;&amp;#x2026;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ajax&lt;/li&gt;
&lt;li&gt;coffeesript&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTML&lt;ul&gt;
&lt;li&gt;erb&lt;/li&gt;
&lt;li&gt;haml&lt;/li&gt;
&lt;li&gt;&amp;#x2026;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CSS&lt;ul&gt;
&lt;li&gt;sass&lt;/li&gt;
&lt;li&gt;&amp;#x2026;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;mobile&lt;ul&gt;
&lt;li&gt;responsive&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;MiddleWare&quot;&gt;&lt;a href=&quot;#MiddleWare&quot; class=&quot;headerlink&quot; title=&quot;MiddleWare&quot;&gt;&lt;/a&gt;MiddleWare&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;APIs&lt;/li&gt;
&lt;li&gt;URLs&lt;/li&gt;
&lt;li&gt;REST&lt;/li&gt;
&lt;li&gt;request/response processing&lt;/li&gt;
&lt;li&gt;security&lt;ul&gt;
&lt;li&gt;xss, crsf, code injection, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;BackEnd&quot;&gt;&lt;a href=&quot;#BackEnd&quot; class=&quot;headerlink&quot; title=&quot;BackEnd&quot;&gt;&lt;/a&gt;BackEnd&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;database&lt;ul&gt;
&lt;li&gt;relational&lt;ul&gt;
&lt;li&gt;MySql&lt;/li&gt;
&lt;li&gt;Postgres&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NoSql&lt;ul&gt;
&lt;li&gt;document&lt;ul&gt;
&lt;li&gt;MangoDB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;web services&lt;/li&gt;
&lt;li&gt;REST&lt;/li&gt;
&lt;li&gt;SOAP&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;MISC&quot;&gt;&lt;a href=&quot;#MISC&quot; class=&quot;headerlink&quot; title=&quot;MISC&quot;&gt;&lt;/a&gt;MISC&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;deployment&lt;/li&gt;
&lt;li&gt;background processing&lt;/li&gt;
&lt;li&gt;git&lt;/li&gt;
&lt;li&gt;bundler&lt;/li&gt;
&lt;li&gt;rvm&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;juggle-many-layers-of-technologies-all-with-different-syntax-amp-behaviors-and-understand-how-they-integrate-with-each-other&quot;&gt;&lt;a hre
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ruby&#39;s composition</title>
    <link href="http://yoursite.com/2013/09/12/rubys-composition/"/>
    <id>http://yoursite.com/2013/09/12/rubys-composition/</id>
    <published>2013-09-11T16:00:00.000Z</published>
    <updated>2016-02-27T09:47:27.000Z</updated>
    
    <content type="html">&lt;pre&gt;&lt;code&gt;module Swimmable
  def swim
    &amp;quot;#{ name } is swimming!&amp;quot;
  end
end

module Fetchable
  def fetch
    &amp;quot;#{ name } is fetching!&amp;quot;
  end
end    

class Animal
  attr_accessor :name

  def initialize(name)
    @name = name
  end

  def speak
    &amp;quot;#{ name } is speaking!&amp;quot;
  end
end

class Mammal &amp;lt; Animal
  def warm_blooded?
    true
  end
end

class Dog &amp;lt; Mammal
  include Swimmable
  include Fetchable

  def speak
    &amp;quot;#{ name } is barking!&amp;quot;
  end
end

fido = Dog.new(&amp;apos;fido&amp;apos;)
puts fido.swim
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;produce&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fido is swimming!
Dog
Fetchable
Swimmable
Mammal
Animal
Object
Kernel
BasicObject
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;pre&gt;&lt;code&gt;module Swimmable
  def swim
    &amp;quot;#{ name } is swimming!&amp;quot;
  end
end

module Fetchable
  def fetch
    &amp;quot;#{ name } is
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ruby&#39;s inheritance</title>
    <link href="http://yoursite.com/2013/09/12/rubys-inheritance/"/>
    <id>http://yoursite.com/2013/09/12/rubys-inheritance/</id>
    <published>2013-09-11T16:00:00.000Z</published>
    <updated>2016-02-27T09:47:43.000Z</updated>
    
    <content type="html">&lt;pre&gt;&lt;code&gt;class Animal
  attr_accessor :name

  def initialize(name)
    @name = name
  end

  def speak
    &amp;quot;#{ name } is speaking!&amp;quot;
  end
end

class Dog &amp;lt; Animal
  def speak
    &amp;quot;#{ name } is barking!&amp;quot;
  end
end

class Cat &amp;lt; Animal
end

fido = Dog.new(&amp;apos;fido&amp;apos;)
puts fido.name
puts fido.speak

kitty = Cat.new(&amp;apos;kitty&amp;apos;)
puts kitty.name
puts kitty.speak

puts Dog.ancestors
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;produce&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fido
fido is barking!
kitty
kitty is speaking!
Dog
Animal
Object
Kernel
BasicObject
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;pre&gt;&lt;code&gt;class Animal
  attr_accessor :name

  def initialize(name)
    @name = name
  end

  def speak
    &amp;quot;#{ name } is speaking!&amp;q
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>process of design app&#39;s class and module</title>
    <link href="http://yoursite.com/2013/09/12/process-of-design-apps-class-and-module/"/>
    <id>http://yoursite.com/2013/09/12/process-of-design-apps-class-and-module/</id>
    <published>2013-09-11T16:00:00.000Z</published>
    <updated>2016-02-27T09:47:09.000Z</updated>
    
    <content type="html">&lt;ol&gt;
&lt;li&gt;Write out the detailed specs&lt;/li&gt;
&lt;li&gt;Extract out major nouns; these are your classes.&lt;/li&gt;
&lt;li&gt;Extract out major verbs; these are your behaviors/methods.&lt;/li&gt;
&lt;li&gt;Create objects out of those classes; these are your actors in your program.&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;Write out the detailed specs&lt;/li&gt;
&lt;li&gt;Extract out major nouns; these are your classes.&lt;/li&gt;
&lt;li&gt;Extract out major verbs; these are 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ruby method scope</title>
    <link href="http://yoursite.com/2013/09/11/ruby-method-scope/"/>
    <id>http://yoursite.com/2013/09/11/ruby-method-scope/</id>
    <published>2013-09-10T16:00:00.000Z</published>
    <updated>2016-02-27T09:46:44.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Ruby-method-scope-convention&quot;&gt;&lt;a href=&quot;#Ruby-method-scope-convention&quot; class=&quot;headerlink&quot; title=&quot;Ruby method scope convention&quot;&gt;&lt;/a&gt;Ruby method scope convention&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Ruby method not have a strict pass by value or pass by reference.&lt;/li&gt;
&lt;li&gt;if you passing an argument, and the argument calls a method that mutates the caller which may or may not have a &lt;code&gt;!&lt;/code&gt;, then it&amp;#x2019;s going to change that object.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is very common source bug.&lt;/p&gt;
&lt;h2 id=&quot;example&quot;&gt;&lt;a href=&quot;#example&quot; class=&quot;headerlink&quot; title=&quot;example&quot;&gt;&lt;/a&gt;example&lt;/h2&gt;&lt;h3 id=&quot;pass-by-value-not-mutate-argument-in-method&quot;&gt;&lt;a href=&quot;#pass-by-value-not-mutate-argument-in-method&quot; class=&quot;headerlink&quot; title=&quot;pass by value(not mutate argument in method):&quot;&gt;&lt;/a&gt;pass by value(not mutate argument in method):&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;a = [1, 2, 1]
def my_method(a)
  a.uniq
end
puts a
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;will produce:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1
2
1
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;pass-by-reference-mutate-argument-in-method&quot;&gt;&lt;a href=&quot;#pass-by-reference-mutate-argument-in-method&quot; class=&quot;headerlink&quot; title=&quot;pass by reference(mutate argument in method):&quot;&gt;&lt;/a&gt;pass by reference(mutate argument in method):&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;a = [1, 2, 1]
def my_method(a)
  a.uniq!
end
puts a
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;will produce:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1
2
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Ruby-method-scope-convention&quot;&gt;&lt;a href=&quot;#Ruby-method-scope-convention&quot; class=&quot;headerlink&quot; title=&quot;Ruby method scope convention&quot;&gt;&lt;/a&gt;Ru
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ruby class template</title>
    <link href="http://yoursite.com/2013/09/11/ruby-class-template/"/>
    <id>http://yoursite.com/2013/09/11/ruby-class-template/</id>
    <published>2013-09-10T16:00:00.000Z</published>
    <updated>2016-02-27T09:46:30.000Z</updated>
    
    <content type="html">&lt;pre&gt;&lt;code&gt;class Dog
  attr_accessor :name, :height, :weight

  @@count = 0

  def initialize(name, height, weight)
    @name = name
    @height = height
    @weight = weight
    @@count += 1
  end

  def bark
    &amp;quot;#{ name } bark!&amp;quot;
  end

  def info
    &amp;quot;#{ name } weights #{ weight } lbs and is #{ height } feet tall&amp;quot;
  end

  def update_info(n, h, w)
    self.name = n
    self.height = h
    self.weight = w
  end

end

teddy = Dog.new(&amp;apos;teddy&amp;apos;, 3, 100)
fido = Dog.new(&amp;apos;fido&amp;apos;, 1.5, 150)

puts teddy.info
teddy.update_info(&amp;apos;ted&amp;apos;, 2, 90)
puts teddy.info
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;pre&gt;&lt;code&gt;class Dog
  attr_accessor :name, :height, :weight

  @@count = 0

  def initialize(name, height, weight)
    @name = name
    @he
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>use vpn for git</title>
    <link href="http://yoursite.com/2013/09/10/use-vpn-for-git/"/>
    <id>http://yoursite.com/2013/09/10/use-vpn-for-git/</id>
    <published>2013-09-09T16:00:00.000Z</published>
    <updated>2016-03-10T13:37:38.000Z</updated>
    
    <content type="html">&lt;p&gt;In China, if you git command can&amp;#x2019;t connect to github, get this tip:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh: connect to host github.com port 22: Operation timed out
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;maybe(and very possible) beacuse of &lt;a href=&quot;http://en.wikipedia.org/wiki/Great_Firewall_of_China&quot; target=&quot;_blank&quot;&gt;GFW&lt;/a&gt;, use VPN can solve this problem.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;In China, if you git command can&amp;#x2019;t connect to github, get this tip:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh: connect to host github.com port 22: Operat
    
    </summary>
    
    
  </entry>
  
</feed>
